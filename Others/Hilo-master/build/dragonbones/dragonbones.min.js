/**
 * Hilo 1.0.0 for dragonbones
 * Copyright 2015 alibaba.com
 * Licensed under the MIT License
 */
!function(){var t={use:function(t){for(var e=t.split("."),i=this,s=0;s<e.length;s++){var a=e[s];i=i[a]||(i[a]={})}return i},"extends":function(t,e){var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t,t.superclass=e.prototype}};window.dragonBones=t}(),function(){function t(t,e){"undefined"==typeof t&&(t=0),"undefined"==typeof e&&(e=0),this.x=t,this.y=e}var e=dragonBones.use("geom");t.prototype.toString=function(){return"[Point (x="+this.x+" y="+this.y+")]"},e.Point=t}(),function(){function t(t,e,i,s){"undefined"==typeof t&&(t=0),"undefined"==typeof e&&(e=0),"undefined"==typeof i&&(i=0),"undefined"==typeof s&&(s=0),this.x=t,this.y=e,this.width=i,this.height=s}var e=dragonBones.use("geom");e.Rectangle=t}(),function(){function t(){this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0}var e=dragonBones.use("geom");t.prototype.invert=function(){var t=this.a,e=this.b,i=this.c,s=this.d,a=this.tx,n=t*s-e*i;this.a=s/n,this.b=-e/n,this.c=-i/n,this.d=t/n,this.tx=(i*this.ty-s*a)/n,this.ty=-(t*this.ty-e*a)/n},e.Matrix=t}(),function(){function t(){this.alphaMultiplier=0,this.alphaOffset=0,this.blueMultiplier=0,this.blueOffset=0,this.greenMultiplier=0,this.greenOffset=0,this.redMultiplier=0,this.redOffset=0}var e=dragonBones.use("geom");e.ColorTransform=t}(),function(){function t(t){this.type=t}var e=dragonBones.use("events");e.Event=t}(),function(){function t(e){t.superclass.constructor.call(this,e)}var e=dragonBones.use("events"),i=e.Event;dragonBones["extends"](t,i),t.FADE_IN="fadeIn",t.FADE_OUT="fadeOut",t.START="start",t.COMPLETE="complete",t.LOOP_COMPLETE="loopComplete",t.FADE_IN_COMPLETE="fadeInComplete",t.FADE_OUT_COMPLETE="fadeOutComplete",e.AnimationEvent=t}(),function(){function t(e){t.superclass.constructor.call(this,e)}var e=dragonBones.use("events"),i=e.Event;dragonBones["extends"](t,i),t.Z_ORDER_UPDATED="zOrderUpdated",e.ArmatureEvent=t}(),function(){function t(e){t.superclass.constructor.call(this,e)}var e=dragonBones.use("events"),i=e.Event;dragonBones["extends"](t,i),t.ANIMATION_FRAME_EVENT="animationFrameEvent",t.BONE_FRAME_EVENT="boneFrameEvent",e.FrameEvent=t}(),function(){function t(e){t.superclass.constructor.call(this,e)}var e=dragonBones.use("events"),i=e.Event;dragonBones["extends"](t,i),t.SOUND="sound",t.BONE_FRAME_EVENT="boneFrameEvent",e.SoundEvent=t}(),function(){function t(){}var e=dragonBones.use("events");t.prototype.hasEventListener=function(t){return this._listenersMap&&this._listenersMap[t]?!0:!1},t.prototype.addEventListener=function(t,e){if(t&&e){this._listenersMap||(this._listenersMap={});var i=this._listenersMap[t];i&&this.removeEventListener(t,e),i?i.push(e):this._listenersMap[t]=[e]}},t.prototype.removeEventListener=function(t,e){if(this._listenersMap&&t&&e){var i=this._listenersMap[t];if(i)for(var s=i.length,a=0;s>a;a++)i[a]==e&&(1==s?(i.length=0,delete this._listenersMap[t]):i.splice(a,1))}},t.prototype.removeAllEventListeners=function(t){t?delete this._listenersMap[t]:this._listenersMap=null},t.prototype.dispatchEvent=function(t){if(t){var e=this._listenersMap[t.type];if(e){t.target=this;for(var i=e.concat(),s=e.length,a=0;s>a;a++)i[a](t)}}},e.EventDispatcher=t}(),function(){function t(){if(t.superclass.constructor.call(this),t._instance)throw new Error("Singleton already constructed!")}var e=dragonBones.use("events");dragonBones["extends"](t,dragonBones.events.EventDispatcher),t.getInstance=function(){return t._instance||(t._instance=new t),t._instance},e.SoundEventManager=t}(),function(){function t(){this.timeScale=1,this.time=.001*(new Date).getTime(),this._animatableList=[]}var e=dragonBones.use("animation");t.prototype.contains=function(t){return this._animatableList.indexOf(t)>=0},t.prototype.add=function(t){t&&-1==this._animatableList.indexOf(t)&&this._animatableList.push(t)},t.prototype.remove=function(t){var e=this._animatableList.indexOf(t);e>=0&&(this._animatableList[e]=null)},t.prototype.clear=function(){this._animatableList.length=0},t.prototype.advanceTime=function(t){if(0>t){var e=.001*(new Date).getTime();t=e-this.time,this.time=e}t*=this.timeScale;var i=this._animatableList.length;if(0!=i){for(var s=0,a=0;i>a;a++){var n=this._animatableList[a];n&&(s!=a&&(this._animatableList[s]=n,this._animatableList[a]=null),n.advanceTime(t),s++)}if(s!=a){for(i=this._animatableList.length;i>a;)this._animatableList[s++]=this._animatableList[a++];this._animatableList.length=s}}},t.clock=new t,e.WorldClock=t}(),function(){function t(){this.transform=new i.DBTransform,this.pivot=new s.Point,this._durationTransform=new i.DBTransform,this._durationPivot=new s.Point,this._durationColor=new s.ColorTransform}var e=dragonBones.use("animation"),i=dragonBones.use("objects"),s=dragonBones.use("geom"),a=dragonBones.use("utils");t._borrowObject=function(){return 0==t._pool.length?new t:t._pool.pop()},t._returnObject=function(e){t._pool.indexOf(e)<0&&(t._pool[t._pool.length]=e),e.clear()},t._clear=function(){for(var e=t._pool.length;e--;)t._pool[e].clear();t._pool.length=0},t.getEaseValue=function(e,i){if(i>1){var s=.5*(1-Math.cos(e*Math.PI))-e;i-=1}else i>0?s=Math.sin(e*t.HALF_PI)-e:0>i&&(s=1-Math.cos(e*t.HALF_PI)-e,i*=-1);return s*i+e},t.prototype.fadeIn=function(t,e,i){switch(this._bone=t,this._animationState=e,this._timeline=i,this._originTransform=this._timeline.originTransform,this._originPivot=this._timeline.originPivot,this._tweenTransform=!1,this._tweenColor=!1,this._totalTime=this._animationState.totalTime,this.transform.x=0,this.transform.y=0,this.transform.scaleX=0,this.transform.scaleY=0,this.transform.skewX=0,this.transform.skewY=0,this.pivot.x=0,this.pivot.y=0,this._durationTransform.x=0,this._durationTransform.y=0,this._durationTransform.scaleX=0,this._durationTransform.scaleY=0,this._durationTransform.skewX=0,this._durationTransform.skewY=0,this._durationPivot.x=0,this._durationPivot.y=0,this._currentFrame=null,this._timeline.getFrameList().length){case 0:this._bone._arriveAtFrame(null,this,this._animationState,!1),this._updateState=0;break;case 1:this._updateState=-1;break;default:this._updateState=1}},t.prototype.fadeOut=function(){this.transform.skewX=a.TransformUtil.formatRadian(this.transform.skewX),this.transform.skewY=a.TransformUtil.formatRadian(this.transform.skewY)},t.prototype.update=function(e){if(this._updateState)if(this._updateState>0){0==this._timeline.scale?e=1:e/=this._timeline.scale,1==e&&(e=.99999999),e+=this._timeline.offset;var i=Math.floor(e);e-=i;for(var s,n=this._totalTime*e,r=!1;!this._currentFrame||n>this._currentFramePosition+this._currentFrameDuration||n<this._currentFramePosition;)r&&this._bone._arriveAtFrame(this._currentFrame,this,this._animationState,!0),r=!0,this._currentFrame?(s=this._timeline.getFrameList().indexOf(this._currentFrame)+1,s>=this._timeline.getFrameList().length&&(s=0),this._currentFrame=this._timeline.getFrameList()[s]):(s=0,this._currentFrame=this._timeline.getFrameList()[0]),this._currentFrameDuration=this._currentFrame.duration,this._currentFramePosition=this._currentFrame.position;if(r){this.tweenActive=this._currentFrame.displayIndex>=0,s++,s>=this._timeline.getFrameList().length&&(s=0);var o=this._timeline.getFrameList()[s];0==s&&this._animationState.loop&&this._animationState.loopCount>=Math.abs(this._animationState.loop)-1&&((this._currentFramePosition+this._currentFrameDuration)/this._totalTime+i-this._timeline.offset)*this._timeline.scale>.99999999?(this._updateState=0,this._tweenEasing=NaN):this._currentFrame.displayIndex<0||o.displayIndex<0||!this._animationState.tweenEnabled?this._tweenEasing=NaN:isNaN(this._animationState.clip.tweenEasing)?this._tweenEasing=this._currentFrame.tweenEasing:this._tweenEasing=this._animationState.clip.tweenEasing,isNaN(this._tweenEasing)?(this._tweenTransform=!1,this._tweenColor=!1):(this._durationTransform.x=o.transform.x-this._currentFrame.transform.x,this._durationTransform.y=o.transform.y-this._currentFrame.transform.y,this._durationTransform.skewX=o.transform.skewX-this._currentFrame.transform.skewX,this._durationTransform.skewY=o.transform.skewY-this._currentFrame.transform.skewY,this._durationTransform.scaleX=o.transform.scaleX-this._currentFrame.transform.scaleX,this._durationTransform.scaleY=o.transform.scaleY-this._currentFrame.transform.scaleY,0==s&&(this._durationTransform.skewX=a.TransformUtil.formatRadian(this._durationTransform.skewX),this._durationTransform.skewY=a.TransformUtil.formatRadian(this._durationTransform.skewY)),this._durationPivot.x=o.pivot.x-this._currentFrame.pivot.x,this._durationPivot.y=o.pivot.y-this._currentFrame.pivot.y,0!=this._durationTransform.x||0!=this._durationTransform.y||0!=this._durationTransform.skewX||0!=this._durationTransform.skewY||0!=this._durationTransform.scaleX||0!=this._durationTransform.scaleY||0!=this._durationPivot.x||0!=this._durationPivot.y?this._tweenTransform=!0:this._tweenTransform=!1,this._currentFrame.color&&o.color?(this._durationColor.alphaOffset=o.color.alphaOffset-this._currentFrame.color.alphaOffset,this._durationColor.redOffset=o.color.redOffset-this._currentFrame.color.redOffset,this._durationColor.greenOffset=o.color.greenOffset-this._currentFrame.color.greenOffset,this._durationColor.blueOffset=o.color.blueOffset-this._currentFrame.color.blueOffset,this._durationColor.alphaMultiplier=o.color.alphaMultiplier-this._currentFrame.color.alphaMultiplier,this._durationColor.redMultiplier=o.color.redMultiplier-this._currentFrame.color.redMultiplier,this._durationColor.greenMultiplier=o.color.greenMultiplier-this._currentFrame.color.greenMultiplier,this._durationColor.blueMultiplier=o.color.blueMultiplier-this._currentFrame.color.blueMultiplier,0!=this._durationColor.alphaOffset||0!=this._durationColor.redOffset||0!=this._durationColor.greenOffset||0!=this._durationColor.blueOffset||0!=this._durationColor.alphaMultiplier||0!=this._durationColor.redMultiplier||0!=this._durationColor.greenMultiplier||0!=this._durationColor.blueMultiplier?this._tweenColor=!0:this._tweenColor=!1):this._currentFrame.color?(this._tweenColor=!0,this._durationColor.alphaOffset=-this._currentFrame.color.alphaOffset,this._durationColor.redOffset=-this._currentFrame.color.redOffset,this._durationColor.greenOffset=-this._currentFrame.color.greenOffset,this._durationColor.blueOffset=-this._currentFrame.color.blueOffset,this._durationColor.alphaMultiplier=1-this._currentFrame.color.alphaMultiplier,this._durationColor.redMultiplier=1-this._currentFrame.color.redMultiplier,this._durationColor.greenMultiplier=1-this._currentFrame.color.greenMultiplier,this._durationColor.blueMultiplier=1-this._currentFrame.color.blueMultiplier):o.color?(this._tweenColor=!0,this._durationColor.alphaOffset=o.color.alphaOffset,this._durationColor.redOffset=o.color.redOffset,this._durationColor.greenOffset=o.color.greenOffset,this._durationColor.blueOffset=o.color.blueOffset,this._durationColor.alphaMultiplier=o.color.alphaMultiplier-1,this._durationColor.redMultiplier=o.color.redMultiplier-1,this._durationColor.greenMultiplier=o.color.greenMultiplier-1,this._durationColor.blueMultiplier=o.color.blueMultiplier-1):this._tweenColor=!1),this._tweenTransform||(this._animationState.blend?(this.transform.x=this._originTransform.x+this._currentFrame.transform.x,this.transform.y=this._originTransform.y+this._currentFrame.transform.y,this.transform.skewX=this._originTransform.skewX+this._currentFrame.transform.skewX,this.transform.skewY=this._originTransform.skewY+this._currentFrame.transform.skewY,this.transform.scaleX=this._originTransform.scaleX+this._currentFrame.transform.scaleX,this.transform.scaleY=this._originTransform.scaleY+this._currentFrame.transform.scaleY,this.pivot.x=this._originPivot.x+this._currentFrame.pivot.x,this.pivot.y=this._originPivot.y+this._currentFrame.pivot.y):(this.transform.x=this._currentFrame.transform.x,this.transform.y=this._currentFrame.transform.y,this.transform.skewX=this._currentFrame.transform.skewX,this.transform.skewY=this._currentFrame.transform.skewY,this.transform.scaleX=this._currentFrame.transform.scaleX,this.transform.scaleY=this._currentFrame.transform.scaleY,this.pivot.x=this._currentFrame.pivot.x,this.pivot.y=this._currentFrame.pivot.y)),this._tweenColor||(this._currentFrame.color?this._bone._updateColor(this._currentFrame.color.alphaOffset,this._currentFrame.color.redOffset,this._currentFrame.color.greenOffset,this._currentFrame.color.blueOffset,this._currentFrame.color.alphaMultiplier,this._currentFrame.color.redMultiplier,this._currentFrame.color.greenMultiplier,this._currentFrame.color.blueMultiplier,!0):this._bone._isColorChanged&&this._bone._updateColor(0,0,0,0,1,1,1,1,!1)),this._bone._arriveAtFrame(this._currentFrame,this,this._animationState,!1)}if((this._tweenTransform||this._tweenColor)&&(e=(n-this._currentFramePosition)/this._currentFrameDuration,this._tweenEasing&&(e=t.getEaseValue(e,this._tweenEasing))),this._tweenTransform){var l=this._currentFrame.transform,h=this._currentFrame.pivot;this._animationState.blend?(this.transform.x=this._originTransform.x+l.x+this._durationTransform.x*e,this.transform.y=this._originTransform.y+l.y+this._durationTransform.y*e,this.transform.skewX=this._originTransform.skewX+l.skewX+this._durationTransform.skewX*e,this.transform.skewY=this._originTransform.skewY+l.skewY+this._durationTransform.skewY*e,this.transform.scaleX=this._originTransform.scaleX+l.scaleX+this._durationTransform.scaleX*e,this.transform.scaleY=this._originTransform.scaleY+l.scaleY+this._durationTransform.scaleY*e,this.pivot.x=this._originPivot.x+h.x+this._durationPivot.x*e,this.pivot.y=this._originPivot.y+h.y+this._durationPivot.y*e):(this.transform.x=l.x+this._durationTransform.x*e,this.transform.y=l.y+this._durationTransform.y*e,this.transform.skewX=l.skewX+this._durationTransform.skewX*e,this.transform.skewY=l.skewY+this._durationTransform.skewY*e,this.transform.scaleX=l.scaleX+this._durationTransform.scaleX*e,this.transform.scaleY=l.scaleY+this._durationTransform.scaleY*e,this.pivot.x=h.x+this._durationPivot.x*e,this.pivot.y=h.y+this._durationPivot.y*e)}this._tweenColor&&(this._currentFrame.color?this._bone._updateColor(this._currentFrame.color.alphaOffset+this._durationColor.alphaOffset*e,this._currentFrame.color.redOffset+this._durationColor.redOffset*e,this._currentFrame.color.greenOffset+this._durationColor.greenOffset*e,this._currentFrame.color.blueOffset+this._durationColor.blueOffset*e,this._currentFrame.color.alphaMultiplier+this._durationColor.alphaMultiplier*e,this._currentFrame.color.redMultiplier+this._durationColor.redMultiplier*e,this._currentFrame.color.greenMultiplier+this._durationColor.greenMultiplier*e,this._currentFrame.color.blueMultiplier+this._durationColor.blueMultiplier*e,!0):this._bone._updateColor(this._durationColor.alphaOffset*e,this._durationColor.redOffset*e,this._durationColor.greenOffset*e,this._durationColor.blueOffset*e,1+this._durationColor.alphaMultiplier*e,1+this._durationColor.redMultiplier*e,1+this._durationColor.greenMultiplier*e,1+this._durationColor.blueMultiplier*e,!0))}else this._updateState=0,this._animationState.blend?(this.transform.copy(this._originTransform),this.pivot.x=this._originPivot.x,this.pivot.y=this._originPivot.y):(this.transform.x=this.transform.y=this.transform.skewX=this.transform.skewY=this.transform.scaleX=this.transform.scaleY=0,this.pivot.x=0,this.pivot.y=0),this._currentFrame=this._timeline.getFrameList()[0],this.tweenActive=this._currentFrame.displayIndex>=0,this._currentFrame.color?this._bone._updateColor(this._currentFrame.color.alphaOffset,this._currentFrame.color.redOffset,this._currentFrame.color.greenOffset,this._currentFrame.color.blueOffset,this._currentFrame.color.alphaMultiplier,this._currentFrame.color.redMultiplier,this._currentFrame.color.greenMultiplier,this._currentFrame.color.blueMultiplier,!0):this._bone._updateColor(0,0,0,0,1,1,1,1,!1),this._bone._arriveAtFrame(this._currentFrame,this,this._animationState,!1)},t.prototype.clear=function(){this._updateState=0,this._bone=null,this._animationState=null,this._timeline=null,this._currentFrame=null,this._originTransform=null,this._originPivot=null},t.HALF_PI=.5*Math.PI,t._pool=[],e.TimelineState=t}(),function(){function t(){this.loop=0,this.layer=0,this._timelineStates={}}var e=dragonBones.use("animation"),i=dragonBones.use("events"),s=e.TimelineState;t._borrowObject=function(){return 0==t._pool.length?new t:t._pool.pop()},t._returnObject=function(e){t._pool.indexOf(e)<0&&(t._pool[t._pool.length]=e),e.clear()},t._clear=function(){for(var e=t._pool.length;e--;)t._pool[e].clear();t._pool.length=0},t.prototype.fadeIn=function(t,e,i,s,a,n,r,o){this.layer=n,this.clip=e,this.name=this.clip.name,this.totalTime=this.clip.duration,this._armature=t,Math.round(this.clip.duration*this.clip.frameRate)<2||s==1/0?(this.timeScale=1,this.currentTime=this.totalTime,this.loop>=0?this.loop=1:this.loop=-1):(this.timeScale=s,this.currentTime=0,this.loop=a),this._pauseBeforeFadeInComplete=o,this._fadeInTime=i*this.timeScale,this._fadeState=1,this._fadeOutBeginTime=0,this._fadeOutWeight=-1,this._fadeWeight=0,this._fadeIn=!0,this._fadeOut=!1,this.loopCount=-1,this.displayControl=r,this.isPlaying=!0,this.isComplete=!1,this.weight=1,this.blend=!0,this.enabled=!0,this.tweenEnabled=!0,this.updateTimelineStates()},t.prototype.fadeOut=function(t,e){if("undefined"==typeof e&&(e=!1),this._armature&&!(this._fadeOutWeight>=0)){this._fadeState=-1,this._fadeOutWeight=this._fadeWeight,this._fadeOutTime=t*this.timeScale,this._fadeOutBeginTime=this.currentTime,this._fadeOut=!0,this.isPlaying=!e,this.displayControl=!1;for(var i=0,s=this._timelineStates.length;s>i;i++)this._timelineStates[i].fadeOut();this.enabled=!0}},t.prototype.play=function(){this.isPlaying=!0},t.prototype.stop=function(){this.isPlaying=!1},t.prototype.getMixingTransform=function(t){return this._mixingTransforms?Number(this._mixingTransforms[t]):-1},t.prototype.addMixingTransform=function(t,e,i){if("undefined"==typeof e&&(e=2),"undefined"==typeof i&&(i=!0),!this.clip||!this.clip.getTimeline(t))throw new Error;if(this._mixingTransforms||(this._mixingTransforms={}),i)for(var s,a,n=this._armature._boneList.length;n--;)s=this._armature._boneList[n],s.name==t&&(a=s),a&&(a==s||a.contains(s))&&(this._mixingTransforms[s.name]=e);else this._mixingTransforms[t]=e;this.updateTimelineStates()},t.prototype.removeMixingTransform=function(t,e){if("undefined"==typeof t&&(t=null),"undefined"==typeof e&&(e=!0),t){if(e)for(var i,s,a=this._armature._boneList.length;a--;)i=this._armature._boneList[a],i.name==t&&(s=i),s&&(s==i||s.contains(i))&&delete this._mixingTransforms[i.name];else delete this._mixingTransforms[t];for(var n=0,r=this._mixingTransforms.length;r>n;n++){var o=!0;break}o||(this._mixingTransforms=null)}else this._mixingTransforms=null;this.updateTimelineStates()},t.prototype.advanceTime=function(t){if(!this.enabled)return!1;var e,s;if(this._fadeIn&&(this._fadeIn=!1,this._armature.hasEventListener(i.AnimationEvent.FADE_IN)&&(e=new i.AnimationEvent(i.AnimationEvent.FADE_IN),e.animationState=this,this._armature._eventList.push(e))),this._fadeOut&&(this._fadeOut=!1,this._armature.hasEventListener(i.AnimationEvent.FADE_OUT)&&(e=new i.AnimationEvent(i.AnimationEvent.FADE_OUT),e.animationState=this,this._armature._eventList.push(e))),this.currentTime+=t*this.timeScale,this.isPlaying&&!this.isComplete){var a,n;this._pauseBeforeFadeInComplete?(this._pauseBeforeFadeInComplete=!1,this.isPlaying=!1,a=0,n=Math.floor(a)):(a=this.currentTime/this.totalTime,n=Math.floor(a),n!=this.loopCount&&(-1==this.loopCount&&this._armature.hasEventListener(i.AnimationEvent.START)&&(e=new i.AnimationEvent(i.AnimationEvent.START),e.animationState=this,this._armature._eventList.push(e)),this.loopCount=n,this.loopCount&&(this.loop&&this.loopCount*this.loopCount>=this.loop*this.loop-1?(s=!0,a=1,n=0,this._armature.hasEventListener(i.AnimationEvent.COMPLETE)&&(e=new i.AnimationEvent(i.AnimationEvent.COMPLETE),e.animationState=this,this._armature._eventList.push(e))):this._armature.hasEventListener(i.AnimationEvent.LOOP_COMPLETE)&&(e=new i.AnimationEvent(i.AnimationEvent.LOOP_COMPLETE),e.animationState=this,this._armature._eventList.push(e)))));for(var r in this._timelineStates)this._timelineStates[r].update(a);var o=this.clip.getFrameList();if(o.length>0){for(var l,h=this.totalTime*(a-n),u=!1;!this._currentFrame||h>this._currentFrame.position+this._currentFrame.duration||h<this._currentFrame.position;)u&&this._armature._arriveAtFrame(this._currentFrame,null,this,!0),u=!0,this._currentFrame?(l=o.indexOf(this._currentFrame),l++,l>=o.length&&(l=0),this._currentFrame=o[l]):this._currentFrame=o[0];u&&this._armature._arriveAtFrame(this._currentFrame,null,this,!1)}}if(this._fadeState>0)0==this._fadeInTime?(this._fadeWeight=1,this._fadeState=0,this.isPlaying=!0,this._armature.hasEventListener(i.AnimationEvent.FADE_IN_COMPLETE)&&(e=new i.AnimationEvent(i.AnimationEvent.FADE_IN_COMPLETE),e.animationState=this,this._armature._eventList.push(e))):(this._fadeWeight=this.currentTime/this._fadeInTime,this._fadeWeight>=1&&(this._fadeWeight=1,this._fadeState=0,this.isPlaying||(this.currentTime-=this._fadeInTime),this.isPlaying=!0,this._armature.hasEventListener(i.AnimationEvent.FADE_IN_COMPLETE)&&(e=new i.AnimationEvent(i.AnimationEvent.FADE_IN_COMPLETE),e.animationState=this,this._armature._eventList.push(e))));else if(this._fadeState<0){if(0==this._fadeOutTime)return this._fadeWeight=0,this._fadeState=0,this._armature.hasEventListener(i.AnimationEvent.FADE_OUT_COMPLETE)&&(e=new i.AnimationEvent(i.AnimationEvent.FADE_OUT_COMPLETE),e.animationState=this,this._armature._eventList.push(e)),!0;if(this._fadeWeight=(1-(this.currentTime-this._fadeOutBeginTime)/this._fadeOutTime)*this._fadeOutWeight,this._fadeWeight<=0)return this._fadeWeight=0,this._fadeState=0,this._armature.hasEventListener(i.AnimationEvent.FADE_OUT_COMPLETE)&&(e=new i.AnimationEvent(i.AnimationEvent.FADE_OUT_COMPLETE),e.animationState=this,this._armature._eventList.push(e)),!0}return s&&(this.isComplete=!0,this.loop<0&&this.fadeOut((this._fadeOutWeight||this._fadeInTime)/this.timeScale,!0)),!1},t.prototype.updateTimelineStates=function(){if(this._mixingTransforms){for(var t in this._timelineStates)null==this._mixingTransforms[t]&&this.removeTimelineState(t);for(t in this._mixingTransforms)this._timelineStates[t]||this.addTimelineState(t)}else for(t in this.clip.getTimelines())this._timelineStates[t]||this.addTimelineState(t)},t.prototype.addTimelineState=function(t){var e=this._armature.getBone(t);if(e){var i=s._borrowObject(),a=this.clip.getTimeline(t);i.fadeIn(e,this,a),this._timelineStates[t]=i}},t.prototype.removeTimelineState=function(t){s._returnObject(this._timelineStates[t]),delete this._timelineStates[t]},t.prototype.clear=function(){this.clip=null,this.enabled=!1,this._armature=null,this._currentFrame=null,this._mixingTransforms=null;for(var t in this._timelineStates)this.removeTimelineState(t)},t._pool=[],e.AnimationState=t}(),function(){function t(t){this._armature=t,this._animationLayer=[],this._isPlaying=!1,this.animationNameList=[],this.tweenEnabled=!0,this.timeScale=1}var e=dragonBones.use("animation"),i=e.AnimationState;t.prototype.getLastAnimationName=function(){return this._lastAnimationState?this._lastAnimationState.name:null},t.prototype.getLastAnimationState=function(){return this._lastAnimationState},t.prototype.getAnimationDataList=function(){return this._animationDataList},t.prototype.setAnimationDataList=function(t){this._animationDataList=t,this.animationNameList.length=0;for(var e=0,i=this._animationDataList.length;i>e;e++)this.animationNameList[this.animationNameList.length]=this._animationDataList[e].name},t.prototype.getIsPlaying=function(){return this._isPlaying&&!this.getIsComplete()},t.prototype.getIsComplete=function(){if(this._lastAnimationState){if(!this._lastAnimationState.isComplete)return!1;for(var t=this._animationLayer.length;t--;)for(var e=this._animationLayer[t],i=e.length;i--;)if(!e[i].isComplete)return!1;return!0}return!1},t.prototype.dispose=function(){if(this._armature){this.stop();for(var t=this._animationLayer.length;t--;){for(var e=this._animationLayer[t],s=e.length;s--;)i._returnObject(e[s]);e.length=0}this._animationLayer.length=0,this.animationNameList.length=0,this._armature=null,this._animationLayer=null,this._animationDataList=null,this.animationNameList=null}},t.prototype.gotoAndPlay=function(e,s,a,n,r,o,l,h,u,_){if("undefined"==typeof s&&(s=-1),"undefined"==typeof a&&(a=-1),"undefined"==typeof n&&(n=NaN),"undefined"==typeof r&&(r=0),"undefined"==typeof o&&(o=null),"undefined"==typeof l&&(l=t.SAME_LAYER_AND_GROUP),"undefined"==typeof h&&(h=!0),"undefined"==typeof u&&(u=!0),"undefined"==typeof _&&(_=!0),!this._animationDataList)return null;for(var f,m=this._animationDataList.length;m--;)if(this._animationDataList[m].name==e){f=this._animationDataList[m];break}if(!f)return null;this._isPlaying=!0,s=0>s?f.fadeInTime<0?.3:f.fadeInTime:s;var p;p=0>a?f.scale<0?1:f.scale:a/f.duration,n=isNaN(n)?f.loop:n,r=this.addLayer(r);var d,c;switch(l){case t.NONE:break;case t.SAME_LAYER:for(c=this._animationLayer[r],m=c.length;m--;)d=c[m],d.fadeOut(s,u);break;case t.SAME_GROUP:for(g=this._animationLayer.length;g--;)for(c=this._animationLayer[g],m=c.length;m--;)d=c[m],d.group==o&&d.fadeOut(s,u);break;case t.ALL:for(var g=this._animationLayer.length;g--;)for(c=this._animationLayer[g],m=c.length;m--;)d=c[m],d.fadeOut(s,u);break;case t.SAME_LAYER_AND_GROUP:default:for(c=this._animationLayer[r],m=c.length;m--;)d=c[m],d.group==o&&d.fadeOut(s,u)}this._lastAnimationState=i._borrowObject(),this._lastAnimationState.group=o,this._lastAnimationState.tweenEnabled=this.tweenEnabled,this._lastAnimationState.fadeIn(this._armature,f,s,1/p,n,r,h,_),this.addState(this._lastAnimationState);var y,v,D=this._armature._slotList;for(m=D.length;m--;)y=D[m],v=y.getChildArmature(),v&&v.animation.gotoAndPlay(e,s);return this._lastAnimationState},t.prototype.play=function(){this._animationDataList&&0!=this._animationDataList.length&&(this._lastAnimationState?this._isPlaying?this.gotoAndPlay(this._lastAnimationState.name):this._isPlaying=!0:this.gotoAndPlay(this._animationDataList[0].name))},t.prototype.stop=function(){this._isPlaying=!1},t.prototype.getState=function(t,e){"undefined"==typeof e&&(e=0);var i=this._animationLayer.length;if(0==i)return null;e>=i&&(e=i-1);var s=this._animationLayer[e];if(!s)return null;for(var a=s.length;a--;)if(s[a].name==t)return s[a];return null},t.prototype.hasAnimation=function(t){for(var e=this._animationDataList.length;e--;)if(this._animationDataList[e].name==t)return!0;return!1},t.prototype.advanceTime=function(t){if(this._isPlaying){t*=this.timeScale;var e,i,s,a,n,r,o,l,h,u,_,f,m,p,d,c,g,y,v,D,A,L=this._armature._boneList.length,E=L;for(L--;E--;){for(a=this._armature._boneList[E],n=a.name,r=1,o=0,l=0,h=0,u=0,_=0,f=0,m=0,p=0,e=this._animationLayer.length;e--;){for(d=0,c=this._animationLayer[e],s=c.length,i=0;s>i;i++)g=c[i],E==L&&g.advanceTime(t)?(this.removeState(g),i--,s--):(y=g._timelineStates[n],y&&y.tweenActive&&(v=g._fadeWeight*g.weight*r,D=y.transform,A=y.pivot,o+=D.x*v,l+=D.y*v,h+=D.skewX*v,u+=D.skewY*v,_+=D.scaleX*v,f+=D.scaleY*v,m+=A.x*v,p+=A.y*v,d+=v));if(d>=r)break;r-=d}D=a.tween,A=a._tweenPivot,D.x=o,D.y=l,D.skewX=h,D.skewY=u,D.scaleX=_,D.scaleY=f,A.x=m,A.y=p}}},t.prototype.addLayer=function(t){return t>=this._animationLayer.length&&(t=this._animationLayer.length,this._animationLayer[t]=[]),t},t.prototype.addState=function(t){var e=this._animationLayer[t.layer];e.push(t)},t.prototype.removeState=function(t){var e=t.layer,s=this._animationLayer[e];s.splice(s.indexOf(t),1),i._returnObject(t),0==s.length&&e==this._animationLayer.length-1&&this._animationLayer.length--},t.NONE="none",t.SAME_LAYER="sameLayer",t.SAME_GROUP="sameGroup",t.SAME_LAYER_AND_GROUP="sameLayerAndGroup",t.ALL="all",e.Animation=t}(),function(){function t(){this.x=0,this.y=0,this.skewX=0,this.skewY=0,this.scaleX=1,this.scaleY=1}var e=dragonBones.use("objects");t.prototype.getRotation=function(){return this.skewX},t.prototype.setRotation=function(t){this.skewX=this.skewY=t},t.prototype.copy=function(t){this.x=t.x,this.y=t.y,this.skewX=t.skewX,this.skewY=t.skewY,this.scaleX=t.scaleX,this.scaleY=t.scaleY},t.prototype.toString=function(){return"[DBTransform (x="+this.x+" y="+this.y+" skewX="+this.skewX+" skewY="+this.skewY+" scaleX="+this.scaleX+" scaleY="+this.scaleY+")]"},e.DBTransform=t}(),function(){function t(){this.position=0,this.duration=0}var e=dragonBones.use("objects");t.prototype.dispose=function(){},e.Frame=t}(),function(){function t(){t.superclass.constructor.call(this),this.tweenEasing=0,this.tweenRotate=0,this.displayIndex=0,this.zOrder=NaN,this.visible=!0,this.global=new a,this.transform=new a,this.pivot=new i.Point}var e=dragonBones.use("objects"),i=dragonBones.use("geom"),s=e.Frame,a=e.DBTransform;dragonBones["extends"](t,s),t.prototype.dispose=function(){_super.prototype.dispose.call(this),this.global=null,this.transform=null,this.pivot=null,this.color=null},e.TransformFrame=t}(),function(){function t(){this._frameList=[],this.duration=0,this.scale=1}var e=dragonBones.use("objects");t.prototype.getFrameList=function(){return this._frameList},t.prototype.dispose=function(){for(var t=this._frameList.length;t--;)this._frameList[t].dispose();this._frameList.length=0,this._frameList=null},t.prototype.addFrame=function(t){if(!t)throw new Error;if(!(this._frameList.indexOf(t)<0))throw new Error;this._frameList[this._frameList.length]=t},e.Timeline=t}(),function(){function t(){t.superclass.constructor.call(this),this.originTransform=new a,this.originPivot=new i.Point,this.offset=0,this.transformed=!1}var e=dragonBones.use("objects"),i=dragonBones.use("geom"),s=e.Timeline,a=e.DBTransform;dragonBones["extends"](t,s),t.prototype.dispose=function(){this!=t.HIDE_TIMELINE&&(_super.prototype.dispose.call(this),this.originTransform=null,this.originPivot=null)},t.HIDE_TIMELINE=new t,e.TransformTimeline=t}(),function(){function t(){t.superclass.constructor.call(this),this.frameRate=0,this.loop=0,this.tweenEasing=NaN,this.fadeInTime=0,this._timelines={}}var e=dragonBones.use("objects"),i=e.Timeline;dragonBones["extends"](t,i),t.prototype.getTimelines=function(){return this._timelines},t.prototype.dispose=function(){this.constructor.superclass.prototype.dispose.call(this);for(var t in this._timelines)this._timelines[t].dispose();this._timelines=null},t.prototype.getTimeline=function(t){return this._timelines[t]},t.prototype.addTimeline=function(t,e){if(!t)throw new Error;this._timelines[e]=t},e.AnimationData=t}(),function(){function t(){this.transform=new i}var e=dragonBones.use("objects"),i=e.DBTransform;t.prototype.dispose=function(){this.transform=null,this.pivot=null},t.ARMATURE="armature",t.IMAGE="image",e.DisplayData=t}(),function(){function t(){this._displayDataList=[],this.zOrder=0}var e=dragonBones.use("objects");t.prototype.getDisplayDataList=function(){return this._displayDataList},t.prototype.dispose=function(){for(var t=this._displayDataList.length;t--;)this._displayDataList[t].dispose();this._displayDataList.length=0,this._displayDataList=null},t.prototype.addDisplayData=function(t){if(!t)throw new Error;if(!(this._displayDataList.indexOf(t)<0))throw new Error;this._displayDataList[this._displayDataList.length]=t},t.prototype.getDisplayData=function(t){for(var e=this._displayDataList.length;e--;)if(this._displayDataList[e].name==t)return this._displayDataList[e];return null},e.SlotData=t}(),function(){function t(){this.length=0,this.global=new i,this.transform=new i}var e=dragonBones.use("objects"),i=e.DBTransform;t.prototype.dispose=function(){this.global=null,this.transform=null},e.BoneData=t}(),function(){function t(){this._slotDataList=[]}var e=dragonBones.use("objects");t.prototype.getSlotDataList=function(){return this._slotDataList},t.prototype.dispose=function(){for(var t=this._slotDataList.length;t--;)this._slotDataList[t].dispose();this._slotDataList.length=0,
this._slotDataList=null},t.prototype.getSlotData=function(t){for(var e=this._slotDataList.length;e--;)if(this._slotDataList[e].name==t)return this._slotDataList[e];return null},t.prototype.addSlotData=function(t){if(!t)throw new Error;if(!(this._slotDataList.indexOf(t)<0))throw new Error;this._slotDataList[this._slotDataList.length]=t},e.SkinData=t}(),function(){function t(){this._boneDataList=[],this._skinDataList=[],this._animationDataList=[]}var e=dragonBones.use("objects");t.prototype.getBoneDataList=function(){return this._boneDataList},t.prototype.getSkinDataList=function(){return this._skinDataList},t.prototype.getAnimationDataList=function(){return this._animationDataList},t.prototype.dispose=function(){for(var t=this._boneDataList.length;t--;)this._boneDataList[t].dispose();for(t=this._skinDataList.length;t--;)this._skinDataList[t].dispose();for(t=this._animationDataList.length;t--;)this._animationDataList[t].dispose();this._boneDataList.length=0,this._skinDataList.length=0,this._animationDataList.length=0,this._boneDataList=null,this._skinDataList=null,this._animationDataList=null},t.prototype.getBoneData=function(t){for(var e=this._boneDataList.length;e--;)if(this._boneDataList[e].name==t)return this._boneDataList[e];return null},t.prototype.getSkinData=function(t){if(!t)return this._skinDataList[0];for(var e=this._skinDataList.length;e--;)if(this._skinDataList[e].name==t)return this._skinDataList[e];return null},t.prototype.getAnimationData=function(t){for(var e=this._animationDataList.length;e--;)if(this._animationDataList[e].name==t)return this._animationDataList[e];return null},t.prototype.addBoneData=function(t){if(!t)throw new Error;if(!(this._boneDataList.indexOf(t)<0))throw new Error;this._boneDataList[this._boneDataList.length]=t},t.prototype.addSkinData=function(t){if(!t)throw new Error;if(!(this._skinDataList.indexOf(t)<0))throw new Error;this._skinDataList[this._skinDataList.length]=t},t.prototype.addAnimationData=function(t){if(!t)throw new Error;this._animationDataList.indexOf(t)<0&&(this._animationDataList[this._animationDataList.length]=t)},t.prototype.sortBoneDataList=function(){var t=this._boneDataList.length;if(0!=t){for(var e=[];t--;){for(var i=this._boneDataList[t],s=0,a=i;a&&a.parent;)s++,a=this.getBoneData(a.parent);e[t]={level:s,boneData:i}}for(e.sort(this.sortBoneData),t=e.length;t--;)this._boneDataList[t]=e[t].boneData}},t.prototype.sortBoneData=function(t,e){return t.level>e.level?1:-1},e.ArmatureData=t}(),function(){function t(){this._armatureDataList=[],this._subTexturePivots={}}var e=dragonBones.use("objects"),i=dragonBones.use("geom");t.prototype.getArmatureNames=function(){var t=[];for(var e in this._armatureDataList)t[t.length]=this._armatureDataList[e].name;return t},t.prototype.getArmatureDataList=function(){return this._armatureDataList},t.prototype.dispose=function(){for(var t in this._armatureDataList)this._armatureDataList[t].dispose();this._armatureDataList.length=0,this._armatureDataList=null,this._subTexturePivots=null},t.prototype.getArmatureData=function(t){for(var e=this._armatureDataList.length;e--;)if(this._armatureDataList[e].name==t)return this._armatureDataList[e];return null},t.prototype.addArmatureData=function(t){if(!t)throw new Error;if(!(this._armatureDataList.indexOf(t)<0))throw new Error;this._armatureDataList[this._armatureDataList.length]=t},t.prototype.removeArmatureData=function(t){var e=this._armatureDataList.indexOf(t);e>=0&&this._armatureDataList.splice(e,1)},t.prototype.removeArmatureDataByName=function(t){for(var e=this._armatureDataList.length;e--;)this._armatureDataList[e].name==t&&this._armatureDataList.splice(e,1)},t.prototype.getSubTexturePivot=function(t){return this._subTexturePivots[t]},t.prototype.addSubTexturePivot=function(t,e,s){var a=this._subTexturePivots[s];return a?(a.x=t,a.y=e):this._subTexturePivots[s]=a=new i.Point(t,e),a},t.prototype.removeSubTexturePivot=function(t){if(t)delete this._subTexturePivots[t];else for(t in this._subTexturePivots)delete this._subTexturePivots[t]},e.SkeletonData=t}(),function(){function t(){}var e=dragonBones.use("objects"),i=dragonBones.use("utils"),s=dragonBones.use("geom"),a=e.SkeletonData,n=e.ArmatureData,r=e.BoneData,o=e.SkinData,l=e.SlotData,h=e.DisplayData,u=e.AnimationData,_=e.TransformTimeline,f=e.TransformFrame,m=e.Frame;t.parseTextureAtlasData=function(t,e){if("undefined"==typeof e&&(e=1),!t)throw new Error;var a={};a.__name=t[i.ConstValues.A_NAME];for(var n=t[i.ConstValues.SUB_TEXTURE],r=0,o=n.length;o>r;r++){var l=n[r],h=l[i.ConstValues.A_NAME],u=new s.Rectangle(Number(l[i.ConstValues.A_X])/e,Number(l[i.ConstValues.A_Y])/e,Number(l[i.ConstValues.A_WIDTH])/e,Number(l[i.ConstValues.A_HEIGHT])/e);a[h]=u}return a},t.parseSkeletonData=function(e){if(!e)throw new Error;var s=Number(e[i.ConstValues.A_FRAME_RATE]),n=new a;n.name=e[i.ConstValues.A_NAME];for(var r=e[i.ConstValues.ARMATURE],o=0,l=r.length;l>o;o++){var h=r[o];n.addArmatureData(t.parseArmatureData(h,n,s))}return n},t.parseArmatureData=function(e,s,a){var r=new n;r.name=e[i.ConstValues.A_NAME];for(var o=e[i.ConstValues.BONE],l=0,h=o.length;h>l;l++){var u=o[l];r.addBoneData(t.parseBoneData(u))}for(var _=e[i.ConstValues.SKIN],l=0,h=_.length;h>l;l++){var f=_[l];r.addSkinData(t.parseSkinData(f,s))}i.DBDataUtil.transformArmatureData(r),r.sortBoneDataList();for(var m=e[i.ConstValues.ANIMATION],l=0,h=m.length;h>l;l++){var p=m[l];r.addAnimationData(t.parseAnimationData(p,r,a))}return r},t.parseBoneData=function(e){var s=new r;return s.name=e[i.ConstValues.A_NAME],s.parent=e[i.ConstValues.A_PARENT],s.length=Number(e[i.ConstValues.A_LENGTH])||0,t.parseTransform(e[i.ConstValues.TRANSFORM],s.global),s.transform.copy(s.global),s},t.parseSkinData=function(e,s){var a=new o;a.name=e[i.ConstValues.A_NAME];for(var n=e[i.ConstValues.SLOT],r=0,l=n.length;l>r;r++){var h=n[r];a.addSlotData(t.parseSlotData(h,s))}return a},t.parseSlotData=function(e,s){var a=new l;a.name=e[i.ConstValues.A_NAME],a.parent=e[i.ConstValues.A_PARENT],a.zOrder=Number(e[i.ConstValues.A_Z_ORDER]);for(var n=e[i.ConstValues.DISPLAY],r=0,o=n.length;o>r;r++){var h=n[r];a.addDisplayData(t.parseDisplayData(h,s))}return a},t.parseDisplayData=function(e,s){var a=new h;return a.name=e[i.ConstValues.A_NAME],a.type=e[i.ConstValues.A_TYPE],a.pivot=s.addSubTexturePivot(0,0,a.name),t.parseTransform(e[i.ConstValues.TRANSFORM],a.transform,a.pivot),a},t.parseAnimationData=function(e,s,a){var n=new u;if(n.name=e[i.ConstValues.A_NAME],n.frameRate=a,n.loop=Number(e[i.ConstValues.A_LOOP])||0,n.fadeInTime=Number(e[i.ConstValues.A_FADE_IN_TIME]),n.duration=Number(e[i.ConstValues.A_DURATION])/a,n.scale=Number(e[i.ConstValues.A_SCALE]),e.hasOwnProperty(i.ConstValues.A_TWEEN_EASING)){var r=e[i.ConstValues.A_TWEEN_EASING];void 0==r||null==r?n.tweenEasing=NaN:n.tweenEasing=Number(r)}else n.tweenEasing=NaN;t.parseTimeline(e,n,t.parseMainFrame,a);for(var o,l,h=e[i.ConstValues.TIMELINE],_=0,f=h.length;f>_;_++){var m=h[_];o=t.parseTransformTimeline(m,n.duration,a),l=m[i.ConstValues.A_NAME],n.addTimeline(o,l)}return i.DBDataUtil.addHideTimeline(n,s),i.DBDataUtil.transformAnimationData(n,s),n},t.parseTimeline=function(t,e,s,a){for(var n,r=0,o=t[i.ConstValues.FRAME]||[],l=0,h=o.length;h>l;l++){var u=o[l];n=s(u,a),n.position=r,e.addFrame(n),r+=n.duration}n&&(n.duration=e.duration-n.position)},t.parseTransformTimeline=function(e,s,a){var n=new _;return n.duration=s,t.parseTimeline(e,n,t.parseTransformFrame,a),n.scale=Number(e[i.ConstValues.A_SCALE]),n.offset=Number(e[i.ConstValues.A_OFFSET]),n},t.parseFrame=function(t,e,s){e.duration=Number(t[i.ConstValues.A_DURATION])/s,e.action=t[i.ConstValues.A_ACTION],e.event=t[i.ConstValues.A_EVENT],e.sound=t[i.ConstValues.A_SOUND]},t.parseMainFrame=function(e,i){var s=new m;return t.parseFrame(e,s,i),s},t.parseTransformFrame=function(e,a){var n=new f;if(t.parseFrame(e,n,a),n.visible=1!=Number(e[i.ConstValues.A_HIDE]),e.hasOwnProperty(i.ConstValues.A_TWEEN_EASING)){var r=e[i.ConstValues.A_TWEEN_EASING];void 0==r||null==r?n.tweenEasing=NaN:n.tweenEasing=Number(r)}else n.tweenEasing=0;n.tweenRotate=Number(e[i.ConstValues.A_TWEEN_ROTATE])||0,n.displayIndex=Number(e[i.ConstValues.A_DISPLAY_INDEX])||0,n.zOrder=Number(e[i.ConstValues.A_Z_ORDER])||0,t.parseTransform(e[i.ConstValues.TRANSFORM],n.global,n.pivot),n.transform.copy(n.global);var o=e[i.ConstValues.COLOR_TRANSFORM];return o&&(n.color=new s.ColorTransform,n.color.alphaOffset=Number(o[i.ConstValues.A_ALPHA_OFFSET]),n.color.redOffset=Number(o[i.ConstValues.A_RED_OFFSET]),n.color.greenOffset=Number(o[i.ConstValues.A_GREEN_OFFSET]),n.color.blueOffset=Number(o[i.ConstValues.A_BLUE_OFFSET]),n.color.alphaMultiplier=.01*Number(o[i.ConstValues.A_ALPHA_MULTIPLIER]),n.color.redMultiplier=.01*Number(o[i.ConstValues.A_RED_MULTIPLIER]),n.color.greenMultiplier=.01*Number(o[i.ConstValues.A_GREEN_MULTIPLIER]),n.color.blueMultiplier=.01*Number(o[i.ConstValues.A_BLUE_MULTIPLIER])),n},t.parseTransform=function(t,e,s){"undefined"==typeof s&&(s=null),t&&(e&&(e.x=Number(t[i.ConstValues.A_X]),e.y=Number(t[i.ConstValues.A_Y]),e.skewX=Number(t[i.ConstValues.A_SKEW_X])*i.ConstValues.ANGLE_TO_RADIAN,e.skewY=Number(t[i.ConstValues.A_SKEW_Y])*i.ConstValues.ANGLE_TO_RADIAN,e.scaleX=Number(t[i.ConstValues.A_SCALE_X]),e.scaleY=Number(t[i.ConstValues.A_SCALE_Y])),s&&(s.x=Number(t[i.ConstValues.A_PIVOT_X]),s.y=Number(t[i.ConstValues.A_PIVOT_Y])))},e.DataParser=t}(),function(){function t(){t.superclass.constructor.call(this),this._dataDic={},this._textureAtlasDic={},this._textureAtlasLoadingDic={}}var e=dragonBones.use("factorys"),i=dragonBones.use("objects");dragonBones["extends"](t,dragonBones.events.EventDispatcher),t.prototype.getSkeletonData=function(t){return this._dataDic[t]},t.prototype.addSkeletonData=function(t,e){if(!t)throw new Error;if(e=e||t.name,!e)throw new Error("Unnamed data!");this._dataDic[e],this._dataDic[e]=t},t.prototype.removeSkeletonData=function(t){delete this._dataDic[t]},t.prototype.getTextureAtlas=function(t){return this._textureAtlasDic[t]},t.prototype.addTextureAtlas=function(t,e){if(!t)throw new Error;if(e=e||t.name,!e)throw new Error("Unnamed data!");this._textureAtlasDic[e],this._textureAtlasDic[e]=t},t.prototype.removeTextureAtlas=function(t){delete this._textureAtlasDic[t]},t.prototype.dispose=function(t){if("undefined"==typeof t&&(t=!0),t){for(var e in this._dataDic)this._dataDic[e].dispose();for(var e in this._textureAtlasDic)this._textureAtlasDic[e].dispose()}this._dataDic=null,this._textureAtlasDic=null,this._textureAtlasLoadingDic=null,this._currentDataName=null,this._currentTextureAtlasName=null},t.prototype.buildArmature=function(t,e,s,a,n){if(s){var r=this._dataDic[s];if(r)var o=r.getArmatureData(t)}else for(s in this._dataDic)if(r=this._dataDic[s],o=r.getArmatureData(t))break;if(!o)return null;this._currentDataName=s,this._currentTextureAtlasName=a||s;var l=this._generateArmature();l.name=t;for(var h,u,_=o.getBoneDataList(),f=0,m=_.length;m>f;f++)u=_[f],h=new dragonBones.Bone,h.name=u.name,h.origin.copy(u.transform),o.getBoneData(u.parent)?l.addChild(h,u.parent):l.addChild(h,null);if(e&&e!=t){var p=r.getArmatureData(e);if(!p)for(s in this._dataDic)if(r=this._dataDic[s],p=r.getArmatureData(e))break}p?l.animation.setAnimationDataList(p.getAnimationDataList()):l.animation.setAnimationDataList(o.getAnimationDataList());var d=o.getSkinData(n);if(!d)throw new Error;for(var c,g,y,v,D,A,L=[],E=d.getSlotDataList(),f=0,m=E.length;m>f;f++)if(D=E[f],h=l.getBone(D.parent)){for(A=D.getDisplayDataList(),c=this._generateSlot(),c.name=D.name,c._originZOrder=D.zOrder,c._dislayDataList=A,L.length=0,v=A.length;v--;)switch(g=A[v],g.type){case i.DisplayData.ARMATURE:y=this.buildArmature(g.name,null,this._currentDataName,this._currentTextureAtlasName,null),y&&(L[v]=y);break;case i.DisplayData.IMAGE:default:L[v]=this._generateDisplay(this._textureAtlasDic[this._currentTextureAtlasName],g.name,g.pivot.x,g.pivot.y)}c.setDisplayList(L),c._changeDisplay(0),h.addChild(c)}return l._slotsZOrderChanged=!0,l.advanceTime(0),l},t.prototype.getTextureDisplay=function(t,e,i,s){if(e)var a=this._textureAtlasDic[e];if(!a&&!e)for(e in this._textureAtlasDic){if(a=this._textureAtlasDic[e],a.getRegion(t))break;a=null}if(a){if(isNaN(i)||isNaN(s)){var n=this._dataDic[e];if(n){var r=n.getSubTexturePivot(t);r&&(i=r.x,s=r.y)}}return this._generateDisplay(a,t,i,s)}return null},t.prototype._generateArmature=function(){return null},t.prototype._generateSlot=function(){return null},t.prototype._generateDisplay=function(t,e,i,s){return null},e.BaseFactory=t}(),function(){function t(){}var e=dragonBones.use("utils");t.ANGLE_TO_RADIAN=Math.PI/180,t.DRAGON_BONES="dragonBones",t.ARMATURE="armature",t.SKIN="skin",t.BONE="bone",t.SLOT="slot",t.DISPLAY="display",t.ANIMATION="animation",t.TIMELINE="timeline",t.FRAME="frame",t.TRANSFORM="transform",t.COLOR_TRANSFORM="colorTransform",t.TEXTURE_ATLAS="TextureAtlas",t.SUB_TEXTURE="SubTexture",t.A_VERSION="version",t.A_IMAGE_PATH="imagePath",t.A_FRAME_RATE="frameRate",t.A_NAME="name",t.A_PARENT="parent",t.A_LENGTH="length",t.A_TYPE="type",t.A_FADE_IN_TIME="fadeInTime",t.A_DURATION="duration",t.A_SCALE="scale",t.A_OFFSET="offset",t.A_LOOP="loop",t.A_EVENT="event",t.A_SOUND="sound",t.A_ACTION="action",t.A_HIDE="hide",t.A_TWEEN_EASING="tweenEasing",t.A_TWEEN_ROTATE="tweenRotate",t.A_DISPLAY_INDEX="displayIndex",t.A_Z_ORDER="z",t.A_WIDTH="width",t.A_HEIGHT="height",t.A_X="x",t.A_Y="y",t.A_SKEW_X="skX",t.A_SKEW_Y="skY",t.A_SCALE_X="scX",t.A_SCALE_Y="scY",t.A_PIVOT_X="pX",t.A_PIVOT_Y="pY",t.A_ALPHA_OFFSET="aO",t.A_RED_OFFSET="rO",t.A_GREEN_OFFSET="gO",t.A_BLUE_OFFSET="bO",t.A_ALPHA_MULTIPLIER="aM",t.A_RED_MULTIPLIER="rM",t.A_GREEN_MULTIPLIER="gM",t.A_BLUE_MULTIPLIER="bM",e.ConstValues=t}(),function(){function t(){}var e=dragonBones.use("utils"),i=dragonBones.use("geom");t.transformPointWithParent=function(e,i){var s=t._helpMatrix;t.transformToMatrix(i,s),s.invert();var a=e.x,n=e.y;e.x=s.a*a+s.c*n+s.tx,e.y=s.d*n+s.b*a+s.ty,e.skewX=t.formatRadian(e.skewX-i.skewX),e.skewY=t.formatRadian(e.skewY-i.skewY)},t.transformToMatrix=function(t,e){e.a=t.scaleX*Math.cos(t.skewY),e.b=t.scaleX*Math.sin(t.skewY),e.c=-t.scaleY*Math.sin(t.skewX),e.d=t.scaleY*Math.cos(t.skewX),e.tx=t.x,e.ty=t.y},t.formatRadian=function(e){return e%=t.DOUBLE_PI,e>Math.PI&&(e-=t.DOUBLE_PI),e<-Math.PI&&(e+=t.DOUBLE_PI),e},t.DOUBLE_PI=2*Math.PI,t._helpMatrix=new i.Matrix,e.TransformUtil=t}(),function(){function t(){}var e=dragonBones.use("utils"),i=dragonBones.use("objects"),s=e.TransformUtil;t.transformArmatureData=function(t){for(var e,i,a=t.getBoneDataList(),n=a.length;n--;)e=a[n],e.parent&&(i=t.getBoneData(e.parent),i&&(e.transform.copy(e.global),s.transformPointWithParent(e.transform,i.global)))},t.transformArmatureDataAnimations=function(e){for(var i=e.getAnimationDataList(),s=i.length;s--;)t.transformAnimationData(i[s],e)},t.transformAnimationData=function(e,i){for(var a,n,r,o,l,h,u,_,f,m,p=i.getSkinData(null),d=i.getBoneDataList(),c=p.getSlotDataList(),g=d.length;g--;)if(a=d[g],n=e.getTimeline(a.name)){r=null;for(var y in c)if(r=c[y],r.parent==a.name)break;o=a.parent?e.getTimeline(a.parent):null,l=n.getFrameList(),h=null,u=null,_=null,m=l.length;for(var v=0;m>v;v++){if(f=l[v],o?(t._helpTransform1.copy(f.global),t.getTimelineTransform(o,f.position,t._helpTransform2),s.transformPointWithParent(t._helpTransform1,t._helpTransform2),f.transform.copy(t._helpTransform1)):f.transform.copy(f.global),f.transform.x-=a.transform.x,f.transform.y-=a.transform.y,f.transform.skewX-=a.transform.skewX,f.transform.skewY-=a.transform.skewY,f.transform.scaleX-=a.transform.scaleX,f.transform.scaleY-=a.transform.scaleY,n.transformed||r&&(f.zOrder-=r.zOrder),h||(h=n.originTransform,h.copy(f.transform),h.skewX=s.formatRadian(h.skewX),h.skewY=s.formatRadian(h.skewY),u=n.originPivot,u.x=f.pivot.x,u.y=f.pivot.y),f.transform.x-=h.x,f.transform.y-=h.y,f.transform.skewX=s.formatRadian(f.transform.skewX-h.skewX),f.transform.skewY=s.formatRadian(f.transform.skewY-h.skewY),f.transform.scaleX-=h.scaleX,f.transform.scaleY-=h.scaleY,n.transformed||(f.pivot.x-=u.x,f.pivot.y-=u.y),_){var D=f.transform.skewX-_.transform.skewX;_.tweenRotate?_.tweenRotate>0?(0>D&&(f.transform.skewX+=2*Math.PI,f.transform.skewY+=2*Math.PI),_.tweenRotate>1&&(f.transform.skewX+=2*Math.PI*(_.tweenRotate-1),f.transform.skewY+=2*Math.PI*(_.tweenRotate-1))):(D>0&&(f.transform.skewX-=2*Math.PI,f.transform.skewY-=2*Math.PI),_.tweenRotate<1&&(f.transform.skewX+=2*Math.PI*(_.tweenRotate+1),f.transform.skewY+=2*Math.PI*(_.tweenRotate+1))):(f.transform.skewX=_.transform.skewX+s.formatRadian(f.transform.skewX-_.transform.skewX),f.transform.skewY=_.transform.skewY+s.formatRadian(f.transform.skewY-_.transform.skewY))}_=f}n.transformed=!0}},t.getTimelineTransform=function(t,e,i){for(var a,n,r,o,l=t.getFrameList(),h=l.length;h--;)if(a=l[h],a.position<=e&&a.position+a.duration>e){n=a.tweenEasing,h==l.length-1||isNaN(n)||e==a.position?i.copy(a.global):(r=(e-a.position)/a.duration,n&&(r=animation.TimelineState.getEaseValue(r,n)),o=l[h+1],i.x=a.global.x+(o.global.x-a.global.x)*r,i.y=a.global.y+(o.global.y-a.global.y)*r,i.skewX=s.formatRadian(a.global.skewX+(o.global.skewX-a.global.skewX)*r),i.skewY=s.formatRadian(a.global.skewY+(o.global.skewY-a.global.skewY)*r),i.scaleX=a.global.scaleX+(o.global.scaleX-a.global.scaleX)*r,i.scaleY=a.global.scaleY+(o.global.scaleY-a.global.scaleY)*r);break}},t.addHideTimeline=function(t,e){for(var s,a,n=e.getBoneDataList(),r=n.length;r--;)s=n[r],a=s.name,t.getTimeline(a)||t.addTimeline(i.TransformTimeline.HIDE_TIMELINE,a)},t._helpTransform1=new i.DBTransform,t._helpTransform2=new i.DBTransform,e.DBDataUtil=t}(),function(){function t(){this.global=new e.DBTransform,this.origin=new e.DBTransform,this.offset=new e.DBTransform,this.tween=new e.DBTransform,this.tween.scaleX=this.tween.scaleY=0,this._globalTransformMatrix=new i.Matrix,this._visible=!0,this._isColorChanged=!1,this._isDisplayOnStage=!1,this._scaleType=0,this.fixedRotation=!1}var e=dragonBones.use("objects"),i=dragonBones.use("geom");t.prototype.getVisible=function(){return this._visible},t.prototype.setVisible=function(t){this._visible=t},t.prototype._setParent=function(t){this.parent=t},t.prototype._setArmature=function(t){this.armature&&this.armature._removeDBObject(this),this.armature=t,this.armature&&this.armature._addDBObject(this)},t.prototype.dispose=function(){this.parent=null,this.armature=null,this.global=null,this.origin=null,this.offset=null,this.tween=null,this._globalTransformMatrix=null},t.prototype._update=function(){if(this.global.scaleX=(this.origin.scaleX+this.tween.scaleX)*this.offset.scaleX,this.global.scaleY=(this.origin.scaleY+this.tween.scaleY)*this.offset.scaleY,this.parent){var t=this.origin.x+this.offset.x+this.tween.x,e=this.origin.y+this.offset.y+this.tween.y,i=this.parent._globalTransformMatrix;this._globalTransformMatrix.tx=this.global.x=i.a*t+i.c*e+i.tx,this._globalTransformMatrix.ty=this.global.y=i.d*e+i.b*t+i.ty,this.fixedRotation?(this.global.skewX=this.origin.skewX+this.offset.skewX+this.tween.skewX,this.global.skewY=this.origin.skewY+this.offset.skewY+this.tween.skewY):(this.global.skewX=this.origin.skewX+this.offset.skewX+this.tween.skewX+this.parent.global.skewX,this.global.skewY=this.origin.skewY+this.offset.skewY+this.tween.skewY+this.parent.global.skewY),this.parent.scaleMode>=this._scaleType&&(this.global.scaleX*=this.parent.global.scaleX,this.global.scaleY*=this.parent.global.scaleY)}else this._globalTransformMatrix.tx=this.global.x=this.origin.x+this.offset.x+this.tween.x,this._globalTransformMatrix.ty=this.global.y=this.origin.y+this.offset.y+this.tween.y,this.global.skewX=this.origin.skewX+this.offset.skewX+this.tween.skewX,this.global.skewY=this.origin.skewY+this.offset.skewY+this.tween.skewY;this._globalTransformMatrix.a=this.global.scaleX*Math.cos(this.global.skewY),this._globalTransformMatrix.b=this.global.scaleX*Math.sin(this.global.skewY),this._globalTransformMatrix.c=-this.global.scaleY*Math.sin(this.global.skewX),this._globalTransformMatrix.d=this.global.scaleY*Math.cos(this.global.skewX)},dragonBones.DBObject=t}(),function(){function t(e){t.superclass.constructor.call(this),this._displayBridge=e,this._displayList=[],this._displayIndex=-1,this._scaleType=1,this._originZOrder=0,this._tweenZorder=0,this._offsetZOrder=0,this._isDisplayOnStage=!1,this._isHideDisplay=!1}dragonBones["extends"](t,dragonBones.DBObject),t.prototype.getZOrder=function(){return this._originZOrder+this._tweenZorder+this._offsetZOrder},t.prototype.setZOrder=function(t){this.getZOrder()!=t&&(this._offsetZOrder=t-this._originZOrder-this._tweenZorder,this.armature&&(this.armature._slotsZOrderChanged=!0))},t.prototype.getDisplay=function(){var t=this._displayList[this._displayIndex];return t instanceof dragonBones.Armature?t.getDisplay():t},t.prototype.setDisplay=function(t){this._displayList[this._displayIndex]=t,this._setDisplay(t)},t.prototype.getChildArmature=function(){var t=this._displayList[this._displayIndex];return t instanceof dragonBones.Armature?t:null},t.prototype.setChildArmature=function(t){this._displayList[this._displayIndex]=t,t&&this._setDisplay(t.getDisplay())},t.prototype.getDisplayList=function(){return this._displayList},t.prototype.setDisplayList=function(t){if(!t)throw new Error;for(var e=this._displayList.length=t.length;e--;)this._displayList[e]=t[e];if(this._displayIndex>=0){var i=this._displayIndex;this._displayIndex=-1,this._changeDisplay(i)}},t.prototype._setDisplay=function(t){this._displayBridge.getDisplay()?this._displayBridge.setDisplay(t):(this._displayBridge.setDisplay(t),this.armature&&(this._displayBridge.addDisplay(this.armature.getDisplay(),-1),this.armature._slotsZOrderChanged=!0)),this.updateChildArmatureAnimation(),!this._isHideDisplay&&this._displayBridge.getDisplay()?this._isDisplayOnStage=!0:this._isDisplayOnStage=!1},t.prototype._changeDisplay=function(t){if(0>t)this._isHideDisplay||(this._isHideDisplay=!0,this._displayBridge.removeDisplay(),this.updateChildArmatureAnimation());else{if(this._isHideDisplay){this._isHideDisplay=!1;var e=!0;this.armature&&(this._displayBridge.addDisplay(this.armature.getDisplay(),-1),this.armature._slotsZOrderChanged=!0)}var i=this._displayList.length;if(t>=i&&i>0&&(t=i-1),this._displayIndex!=t){this._displayIndex=t;var s=this._displayList[this._displayIndex];s instanceof dragonBones.Armature?this._setDisplay(s.getDisplay()):this._setDisplay(s),this._dislayDataList&&this._displayIndex<this._dislayDataList.length&&this.origin.copy(this._dislayDataList[this._displayIndex].transform)}else e&&this.updateChildArmatureAnimation()}!this._isHideDisplay&&this._displayBridge.getDisplay()?this._isDisplayOnStage=!0:this._isDisplayOnStage=!1},t.prototype.setVisible=function(t){t!=this._visible&&(this._visible=t,this._updateVisible(this._visible))},t.prototype._setArmature=function(e){t.superclass._setArmature.call(this,e),this.armature?(this.armature._slotsZOrderChanged=!0,this._displayBridge.addDisplay(this.armature.getDisplay(),-1)):this._displayBridge.removeDisplay()},t.prototype.dispose=function(){this._displayBridge&&(t.superclass.dispose.call(this),this._displayBridge.dispose(),this._displayList.length=0,this._displayBridge=null,this._displayList=null,this._dislayDataList=null)},t.prototype._update=function(){if(t.superclass._update.call(this),this._isDisplayOnStage){var e=this.parent._tweenPivot.x,i=this.parent._tweenPivot.y;if(e||i){var s=this.parent._globalTransformMatrix;this._globalTransformMatrix.tx+=s.a*e+s.c*i,this._globalTransformMatrix.ty+=s.b*e+s.d*i}this._displayBridge.updateTransform(this._globalTransformMatrix,this.global)}},t.prototype._updateVisible=function(t){this._displayBridge.setVisible(this.parent.getVisible()&&this._visible&&t)},t.prototype.updateChildArmatureAnimation=function(){var t=this.getChildArmature();if(t)if(this._isHideDisplay)t.animation.stop(),t.animation._lastAnimationState=null;else{var e=this.armature?this.armature.animation.getLastAnimationName():null;e&&t.animation.hasAnimation(e)?t.animation.gotoAndPlay(e):t.animation.play()}},dragonBones.Slot=t}(),function(){function t(){t.superclass.constructor.call(this),this._children=[],this._scaleType=2,this._tweenPivot=new e.Point,this.scaleMode=1}var e=dragonBones.use("geom"),i=dragonBones.use("events"),s=dragonBones.Slot;dragonBones["extends"](t,dragonBones.DBObject),t.prototype.setVisible=function(t){if(this._visible!=t){this._visible=t;for(var e=this._children.length;e--;){var i=this._children[e];i instanceof s&&i._updateVisible(this._visible)}}},t.prototype._setArmature=function(e){t.superclass._setArmature.call(this,e);for(var i=this._children.length;i--;)this._children[i]._setArmature(this.armature)},t.prototype.dispose=function(){if(this._children){t.superclass.dispose.call(this);for(var e=this._children.length;e--;)this._children[e].dispose();this._children.length=0,this._children=null,this._tweenPivot=null,this.slot=null}},t.prototype.contains=function(t){if(!t)throw new Error;if(t==this)return!1;for(var e=t;e!=this&&null!=e;)e=e.parent;return e==this},t.prototype.addChild=function(e){if(!e)throw new Error;if(e==this||e instanceof t&&e.contains(this))throw new Error("An Bone cannot be added as a child to itself or one of its children (or children's children, etc.)");e.parent&&e.parent.removeChild(e),this._children[this._children.length]=e,e._setParent(this),e._setArmature(this.armature),!this.slot&&e instanceof s&&(this.slot=e)},t.prototype.removeChild=function(t){if(!t)throw new Error;var e=this._children.indexOf(t);if(!(e>=0))throw new Error;this._children.splice(e,1),t._setParent(null),t._setArmature(null),t==this.slot&&(this.slot=null)},t.prototype.getSlots=function(){for(var t=[],e=this._children.length;e--;)this._children[e]instanceof s&&t.unshift(this._children[e]);return t},t.prototype._arriveAtFrame=function(e,a,n,r){if(e){var o=n.getMixingTransform(name);if(n.displayControl&&(2==o||-1==o)&&(!this.displayController||this.displayController==n.name)){var l=e;if(this.slot){var h=l.displayIndex;h>=0&&(isNaN(l.zOrder)||l.zOrder==this.slot._tweenZorder||(this.slot._tweenZorder=l.zOrder,this.armature._slotsZOrderChanged=!0)),this.slot._changeDisplay(h),this.slot._updateVisible(l.visible)}}if(e.event&&this.armature.hasEventListener(i.FrameEvent.BONE_FRAME_EVENT)){var u=new i.FrameEvent(i.FrameEvent.BONE_FRAME_EVENT);u.bone=this,u.animationState=n,u.frameLabel=e.event,this.armature._eventList.push(u)}if(e.sound&&t._soundManager.hasEventListener(i.SoundEvent.SOUND)){var _=new i.SoundEvent(i.SoundEvent.SOUND);_.armature=this.armature,_.animationState=n,_.sound=e.sound,t._soundManager.dispatchEvent(_)}if(e.action)for(var f=0,m=this._children.length;m>f;f++)if(this._children[f]instanceof s){var p=this._children[f].getChildArmature();p&&p.animation.gotoAndPlay(e.action)}}else this.slot&&this.slot._changeDisplay(-1)},t.prototype._updateColor=function(t,e,i,s,a,n,r,o,l){(l||this._isColorChanged)&&this.slot._displayBridge.updateColor(t,e,i,s,a,n,r,o),this._isColorChanged=l},t._soundManager=i.SoundEventManager.getInstance(),dragonBones.Bone=t}(),function(){function t(i){t.superclass.constructor.call(this),this.animation=new e.Animation(this),this._display=i,this._slotsZOrderChanged=!1,this._slotList=[],this._boneList=[],this._eventList=[]}var e=dragonBones.use("animation"),i=dragonBones.use("events"),s=dragonBones.Slot,a=dragonBones.Bone;dragonBones["extends"](t,i.EventDispatcher),t.prototype.getDisplay=function(){return this._display},t.prototype.dispose=function(){if(this.animation){this.animation.dispose();for(var t=this._slotList.length;t--;)this._slotList[t].dispose();for(t=this._boneList.length;t--;)this._boneList[t].dispose();this._slotList.length=0,this._boneList.length=0,this._eventList.length=0,this._slotList=null,this._boneList=null,this._eventList=null,this._display=null,this.animation=null}},t.prototype.advanceTime=function(t){this.animation.advanceTime(t),t*=this.animation.timeScale;for(var e=this._boneList.length;e--;)this._boneList[e]._update();e=this._slotList.length;for(var s;e--;)if(s=this._slotList[e],s._update(),s._isDisplayOnStage){var a=s.getChildArmature();a&&a.advanceTime(t)}if(this._slotsZOrderChanged&&(this.updateSlotsZOrder(),this.hasEventListener(i.ArmatureEvent.Z_ORDER_UPDATED)&&this.dispatchEvent(new i.ArmatureEvent(i.ArmatureEvent.Z_ORDER_UPDATED))),this._eventList.length){var n=this._eventList.length;for(e=0;n>e;e++)this.dispatchEvent(this._eventList[e]);this._eventList.length=0}},t.prototype.getSlots=function(t){return"undefined"==typeof t&&(t=!0),t?this._slotList.concat():this._slotList},t.prototype.getBones=function(t){return"undefined"==typeof t&&(t=!0),t?this._boneList.concat():this._boneList},t.prototype.getSlot=function(t){for(var e=this._slotList.length;e--;)if(this._slotList[e].name==t)return this._slotList[e];return null},t.prototype.getSlotByDisplay=function(t){if(t)for(var e=this._slotList.length;e--;)if(this._slotList[e].getDisplay()==t)return this._slotList[e];return null},t.prototype.removeSlot=function(t){if(!t)throw new Error;if(!(this._slotList.indexOf(t)>=0))throw new Error;t.parent.removeChild(t)},t.prototype.removeSlotByName=function(t){if(t){var e=this.getSlot(t);e&&this.removeSlot(e)}},t.prototype.getBone=function(t){for(var e=this._boneList.length;e--;)if(this._boneList[e].name==t)return this._boneList[e];return null},t.prototype.getBoneByDisplay=function(t){var e=this.getSlotByDisplay(t);return e?e.parent:null},t.prototype.removeBone=function(t){if(!t)throw new Error;if(!(this._boneList.indexOf(t)>=0))throw new Error;t.parent?t.parent.removeChild(t):t._setArmature(null)},t.prototype.removeBoneByName=function(t){if(t){var e=this.getBone(t);e&&this.removeBone(e)}},t.prototype.addChild=function(t,e){if(!t)throw new Error;if(e){var i=this.getBone(e);if(!i)throw new Error;i.addChild(t)}else t.parent&&t.parent.removeChild(t),t._setArmature(this)},t.prototype.updateSlotsZOrder=function(){this._slotList.sort(this.sortSlot);for(var t,e=this._slotList.length;e--;)t=this._slotList[e],t._isDisplayOnStage&&t._displayBridge.addDisplay(this._display,-1);this._slotsZOrderChanged=!1},t.prototype._addDBObject=function(t){if(t instanceof s){var e=t;this._slotList.indexOf(e)<0&&(this._slotList[this._slotList.length]=e)}else if(t instanceof a){var i=t;this._boneList.indexOf(i)<0&&(this._boneList[this._boneList.length]=i,this._sortBoneList())}},t.prototype._removeDBObject=function(t){if(t instanceof s){var e=t,i=this._slotList.indexOf(e);i>=0&&this._slotList.splice(i,1)}else if(t instanceof a){var n=t;i=this._boneList.indexOf(n),i>=0&&this._boneList.splice(i,1)}},t.prototype._sortBoneList=function(){var t=this._boneList.length;if(0!=t){for(var e,i,s,a=[];t--;){for(e=0,i=this._boneList[t],s=i;s;)e++,s=s.parent;a[t]={level:e,bone:i}}for(a.sort(this.sortBone),t=a.length;t--;)this._boneList[t]=a[t].bone}},t.prototype._arriveAtFrame=function(e,s,a,n){if(e.event&&this.hasEventListener(i.FrameEvent.ANIMATION_FRAME_EVENT)){var r=new i.FrameEvent(i.FrameEvent.ANIMATION_FRAME_EVENT);r.animationState=a,r.frameLabel=e.event,this._eventList.push(r)}if(e.sound&&t._soundManager.hasEventListener(i.SoundEvent.SOUND)){var o=new i.SoundEvent(i.SoundEvent.SOUND);o.armature=this,o.animationState=a,o.sound=e.sound,t._soundManager.dispatchEvent(o)}e.action&&a.isPlaying&&this.animation.gotoAndPlay(e.action)},t.prototype.sortSlot=function(t,e){return t.getZOrder()<e.getZOrder()?1:-1},t.prototype.sortBone=function(t,e){return t.level<e.level?1:-1},t._soundManager=i.SoundEventManager.getInstance(),dragonBones.Armature=t}(),function(){function t(){}function e(t,e,i){"undefined"==typeof i&&(i=1),this._regions={},this.image=t,this.scale=i,this.parseData(e)}function i(){i.superclass.constructor.call(this)}var s=dragonBones.use("display"),a=dragonBones.use("textures"),n=dragonBones.use("factorys");t.prototype.getVisible=function(){return this._display?this._display.visible:!1},t.prototype.setVisible=function(t){this._display&&(this._display.visible=t);
},t.prototype.getDisplay=function(){return this._display},t.prototype.setDisplay=function(t){if(this._display!=t){if(this._display){var e=this._display.parent;if(e)var i=this._display.parent.getChildIndex(this._display);this.removeDisplay()}this._display=t,this.addDisplay(e,i)}},t.prototype.dispose=function(){this._display=null},t.prototype.updateTransform=function(e,i){this._display.x=e.tx,this._display.y=e.ty,this._display.rotation=i.skewX*t.RADIAN_TO_ANGLE,this._display.skewY=i.skewY*t.RADIAN_TO_ANGLE,this._display.scaleX=i.scaleX,this._display.scaleY=i.scaleY},t.prototype.updateColor=function(t,e,i,s,a,n,r,o){this._display&&(this._display.alpha=a)},t.prototype.addDisplay=function(t,e){var i=t;i&&this._display&&(0>e?i.addChild(this._display):i.addChildAt(this._display,Math.min(e,i.getNumChildren())))},t.prototype.removeDisplay=function(){this._display&&this._display.parent&&this._display.parent.removeChild(this._display)},t.RADIAN_TO_ANGLE=180/Math.PI,s.HiloDisplayBridge=t,e.prototype.dispose=function(){this.image=null,this._regions=null},e.prototype.getRegion=function(t){return this._regions[t]},e.prototype.parseData=function(t){var e=dragonBones.objects.DataParser.parseTextureAtlasData(t,this.scale);this.name=e.__name,delete e.__name;for(var i in e)this._regions[i]=e[i]},a.HiloTextureAtlas=e,dragonBones["extends"](i,n.BaseFactory),i.prototype._generateArmature=function(){var t=new dragonBones.Armature(new Hilo.Container);return t},i.prototype._generateSlot=function(){var t=new dragonBones.Slot(new s.HiloDisplayBridge);return t},i.prototype._generateDisplay=function(t,e,i,s){var a=t.getRegion(e);if(a)var n=new Hilo.Bitmap({image:t.image,pivotX:i,pivotY:s,rect:[a.x,a.y,a.width,a.height],scaleX:1/t.scale,scaleY:1/t.scale});return n},i._helpMatrix=new Hilo.Matrix(1,0,0,1,0,0),n.HiloFactory=i}();